\capitulo{4}{Técnicas y herramientas}
Esta parte de la memoria tiene como objetivo presentar las técnicas metodológicas y las herramientas de desarrollo que se han utilizado para llevar a cabo el proyecto.

\section{Técnicas utilizadas}
\subsection{SCRUM}
SCRUM es un marco de trabajo ágil utilizado principalmente en el desarrollo de software, divide el trabajo en ciclos cortos y regulares llamados "sprints", normalmente de 1 a 4 semanas, en los que se desarrolla un incremento funcional del producto.

Para obtener más información sobre la metodología Scrum utilizada durante el proyecto, consultar el apartado A.2.

\section{Herramientas utilizadas}
\subsection{Hardware}
\subsubsection{Gateway Dragino LPS8N}
El LPS8N~\cite{Haw:Dra} es una gateway LoRaWAN de código abierto. Permite enlazar una red inalámbrica LoRa con una red IP mediante WiFi o Ethernet. La tecnología inalámbrica LoRa permite a los usuarios enviar datos y alcanzar distancias extremadamente largas con tasas de transmisión de datos bajas.

\imagen{Gateway_dragino}{Imagen del Gateway Dragino LPS8N~\cite{Haw:Dra}}{0.5}

\subsubsection{Sensor MerryIoT MS10 Motion Detection}
El MS10 es un sensor de movimiento que utiliza conectividad LoRaWAN para comunicar la presencia o ausencia de una persona, además de recopilar otros datos como temperatura y humedad.  Su uso previsto es colocar el sensor con una buena vista de una habitación para detectar si hay movimiento o no en el área.

El sensor está compuesto por un detector infrarrojo pasivo (PIR) y una lente de Fresnel. El cuerpo principal contiene la electrónica activa necesaria para detectar movimiento y transmitir cualquier cambio a través de una red LoRaWAN.

También cuenta con detectores de vibración e inclinación en caso de manipulación. Una vez que se detecta un evento, el sensor enviará un mensaje ascendente (uplink).

\imagen{MS10_device}{Imagen del dispositivo MS10~\cite{MerryIoT:manual}}{0.5}


\subsection{Servicios en la nube y conectividad}
\subsubsection{The Things Network (TTN)/The Things Stack (Sandbox)}
TTN es una infraestructura abierta para redes LoRaWAN. Permite registrar dispositivos, configurar gateways y gestionar los datos recibidos mediante webhooks, que envían automáticamente los paquetes recibidos hacia una URL determinada.

\imagen{TTN_logo}{Logotipo de The Things Network }{0.5}

The Things Stack~\cite{TTN:TTS} es un servidor LoRaWAN de nivel empresarial (que incluye tanto las funciones de Servidor de red como de Servidor de aplicaciones mencionadas en la arquitectura de referencia de LoRaWAN). Además, The Things Stack incluye servicios y herramientas para gestionar de forma segura millones de dispositivos LoRaWAN en entornos de producción.

En el proyecto se ha utilizado la variante The Things Stack Sandbox, una versión gratuita y pública del servidor The Things Stack, ofrecida por The Things Network (TTN), diseñada para que desarrolladores, estudiantes e investigadores puedan probar, experimentar y aprender a implementar soluciones LoRaWAN sin necesidad de infraestructura propia.

\imagen{TTS_logo}{Logotipo de The Things Stack Sandbox }{0.5}

\subsubsection{Cloudflare Tunnel}
Cloudflare Tunnel ~\cite{CDF:tun} es una herramienta que te proporciona una forma segura de conectar tus recursos a Cloudflare sin necesidad de una dirección IP pública enrutable. Con Tunnel, no envías tráfico a una IP externa; en su lugar, un servicio ligero (daemon) llamado cloudflared, que se ejecuta en tu infraestructura, establece conexiones salientes únicamente hacia la red global de Cloudflare.

En este proyecto se ha utilizado para exponer de forma segura tu servidor Flask local al exterior, permitiendo que The Things Network (TTN) pueda enviar datos directamente a tu webhook sin necesidad de:

\begin{enumerate}
    \item Configurar el router o abrir puertos manualmente.
    \item Tener una IP pública fija
    \item Contratar infraestructura externa (como un servidor en la nube)
\end{enumerate}

\imagen{CDF_logo}{Logotipo de Cloudflare }{0.5}

\subsection{Entorno de desarrollo}

\subsubsection{IntelliJ IDEA}
IntelliJ IDEA~\cite{JB:ITJ} es una herramienta que proporciona un entorno completo para el desarrollo de software, incluyendo herramientas para codificación, depuración, pruebas y despliegue.

\imagen{ITJ_logo}{Logotipo de IntelliJ IDEA }{0.3}

\subsubsection{Docker/Docker Desktop}
Docker~\cite{Docker} es un software de código abierto que automatiza el despliegue de aplicaciones dentro de contenedores de software, proporcionando una capa adicional de abstracción y automatización de visualización de aplicaciones en múltiples sistemas operativos.

En este proyecto se ha utilizado tanto Docker como Docker Desktop para el despliegue de ambas aplicaciones web y de una base de datos. Docker Desktop es la aplicación nativa para ordenador diseñada por Docker para Windows y Mac, siendo la forma más sencilla de ejecutar, construir, depurar y probar aplicaciones dockerizadas.

Gracias al uso de Docker, se facilita el despliegue al usuario, evitando que deba  preocupese por tener las dependencias necesarias o las versiones correctas de las herramientas utilizas para el correcto funcionamiento del proyecto.



\imagen{Docker_logo}{Logotipo de Docker}{0.5}

\subsubsection{Git/GitHub}
Git~\cite{Mc:Git} es un sistema de control de versiones distribuido. Estos repositorios locales plenamente funcionales permiten trabajar sin conexión o de forma remota con facilidad. Los desarrolladores confirman su trabajo localmente y, a continuación, sincronizan la copia del repositorio con la del servidor.

\imagen{Git_logo}{Logotipo de Git }{0.3}

GitHub~\cite{Github} es una plataforma basada en la nube donde puedes almacenar, compartir y trabajar junto con otros usuarios para realizar proyectos. 
Los proyectos son almacenados en repositorios, permitiendo así:
\begin{itemize}
    \item Presentar o compartir el trabajo.
    \item Seguir y administrar los cambios en el código a lo largo del tiempo.
    \item Dejar que otros usuarios revisen el código y realicen sugerencias para mejorarlo.
\end{itemize}


\imagen{Github_logo}{Logotipo de Github }{0.3}


\subsubsection{Overleaf/LaTeX}
Overleaf~\cite{Overleaf} es un editor colaborativo basado en la nube que se utiliza para escribir, editar y publicar documentos en LaTeX.

\imagen{Over_logo}{Logotipo de Overleaf}{0.3}

\subsubsection{Draw.io}
Draw.io es una herramienta gratuita y de código abierto para la creación de diagramas. Se utiliza ampliamente para diseñar diagramas de flujo, esquemas de red, diagramas UML, diagramas de arquitectura de software, organigramas y cualquier tipo de representación visual estructurada.

\imagen{Draw_logo}{Logotipo de Draw.io}{0.3}

\subsection{Backend}
\subsubsection{Python}
Python~\cite{Python} es un lenguaje de programación de alto nivel, conocido por su legibilidad y versatilidad. Se utiliza en una amplia gama de aplicaciones, desde desarrollo web hasta análisis de datos.


\imagen{Python_logo}{Logotipo de Python}{0.3}

Bibliotecas y frameworks de Python utilizados:

\begin{itemize}
    \item {Flask}: Microframework web para Python que permite desarrollar aplicaciones web de forma sencilla y modular
    \item {SQLAlchemy}: facilita la interacción con bases de datos SQL mediante objetos Python.
    \item {Pandas}: permite usar estructuras eficientes como DataFrame, ideal para la lectura, manipulación y análisis de archivos CSV.
    \item {Werkzeug}: permite usar herramientas para construir aplicaciones compatibles con WSGI, un estándar para la comunicación entre servidores web y aplicaciones Python.
    \item {Requests}: permite realizar peticiones HTTP desde el backend.
    \item {Pytz}: permite gestionar zonas horarias de forma precisa
    \item {Csv}: permite la lectura y escritura de archivos CSV.
    \item {Os}: permite interactuar con el sistema operativo (crear carpetas, comprobar rutas, acceder a archivos...).
    \item {Datetime}: permite manejar fechas y horas, como la marca temporal de los paquetes.
    \item {Traceback}: permite imprimir mensajes de error con más detalles.
    \item {Random}: permite generar datos aleatorios.
    \item {Functools}: permite funciones de orden superior y operaciones sobre objetos invocables.
    \item {mlxtend}: permite complementar otras herramientas añadiendo funcionalidades útiles para campos como la minería de datos, en este caso con la generación de reglas de asociación.  
\end{itemize}


\subsection{Frontend}

\subsubsection{HTML5/JavaScript}
HTML~\cite{Html} es el lenguaje estándar para la creación de páginas web. Define la estructura básica de los contenidos de un sitio web mediante etiquetas, que permiten organizar elementos como textos, enlaces, imágenes, tablas, formularios y otros componentes visuales.

\imagen{HTML_logo}{Logotipo de HTML 5}{0.3}

JavaScript ~\cite{JavaScript} es un lenguaje de programación interpretado, orientado a objetos y basado en prototipos, diseñado originalmente para ejecutarse en navegadores web. Su propósito principal es añadir interactividad y dinamismo a las páginas web, permitiendo modificar el contenido, responder a eventos del usuario, validar formularios, actualizar datos en tiempo real sin recargar la página.

Librerías y frameworks de Html utilizados:
\begin{itemize}
    \item {Bootstrap 5}: es un framework de CSS y JS que facilita la creación de diseños responsivos y modernos con componentes predefinidos (botones, formularios y tablas).
    \item {Chart.js}: es una biblioteca de JavaScript para generar gráficos interactivos.
    \item {Pandas}: permite usar estructuras eficientes como DataFrame, ideal para la lectura, manipulación y análisis de archivos CSV.
    \item {Jinja2}: es un motor de plantillas utilizado por Flask para insertar lógica (bucles, condiciones) y datos dinámicos en los archivos HTML.
\end{itemize}

